<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>FlappyCoins Web3</title>
    <!-- Подключаем шрифты -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Базовые стили -->
    <link rel="stylesheet" href="style/app.css">
    <link rel="stylesheet" href="style/mainMenu.css">
    <link rel="stylesheet" href="style/room.css">
    <link rel="stylesheet" href="style/game.css">
</head>
<body>
    <!-- Загрузочный экран -->
    <div id="loading-view">
        <div class="spinner"></div>
        <div class="loading-text">Загрузка FlappyCoins Web3...</div>
    </div>
    
    <!-- Основной контейнер приложения -->
    <div id="app-container">
        <!-- Главное меню -->
        <div id="main-menu-view" class="screen">
            <header class="user-info">
                <div class="avatar-container">
                    <img id="user-avatar" src="assets/default-avatar.png" alt="Аватар пользователя">
                    <div id="avatar-placeholder" class="avatar-placeholder"></div>
                </div>
                <section class="user-details">
                    <h2 id="username" class="username">Загрузка...</h2>
                </section>
            </header>

            <main class="center-container">
                <h1 class="app-title">FlappyCoins Web3</h1>
                <div class="logo-container">
                    <img src="assets/logo.png" alt="Logo" class="game-logo">
                </div>
                <div class="menu-options">
                    <div class="menu-option">
                        <button id="create-room-btn" class="main-button">Создать комнату</button>
                    </div>
                    <div class="menu-option">
                        <input id="room-id-input" type="text" placeholder="ID комнаты" maxlength="6">
                        <button id="join-room-btn" class="main-button">Присоединиться</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Комната ожидания -->
        <div id="room-view" class="screen">
            <div class="room-header">
                <h2>Комната</h2>
                <div id="room-id" class="room-id">ID: ...</div>
            </div>
            
            <div class="players-container">
                <h3>Игроки</h3>
                <div id="players-list" class="players-list">
                    <!-- Список игроков будет заполнен динамически -->
                </div>
            </div>
            
            <div class="room-controls">
                <button id="ready-btn" class="ready-button ready">Готов</button>
                <button id="back-to-menu-btn" class="back-button">Назад в меню</button>
            </div>
        </div>

        <!-- Игровое поле -->
        <div id="game-view" class="screen">
            <canvas id="game-canvas"></canvas>
            
            <!-- Диалог окончания игры -->
            <div id="game-over-dialog" class="game-over-dialog">
                <div class="game-over-content">
                    <h2>Игра окончена</h2>
                    <div class="winner-info">
                        <h3>Победитель:</h3>
                        <p id="winner-name">...</p>
                    </div>
                    <button id="back-to-room-btn" class="main-button">Вернуться в комнату</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Socket.IO клиент -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Модули приложения -->
    <script type="module" src="logger.js"></script>
    <script type="module" src="utils.js"></script>
    <script type="module" src="services/telegramService.js"></script>
    <script type="module" src="services/socketService.js"></script>
    <script type="module" src="gameEngine.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html> 