---
description: 
globs: 
alwaysApply: true
---
План адаптации для Telegram Mini App
##Шаг 1: Настройка базовой структуры
#[✓]Создать HTML с canvas-элементом для игры
#[✓]Интегрировать Telegram WebApp SDK
#[✓]Добавить обработку данных пользователя из Telegram
## Шаг 2: Серверная часть
#[✓]Настроить Express.js сервер с Socket.io
#[✓]Перенести основные классы: Player, Pipe, CollisionEngine
#[✓]Адаптировать систему комнат для Telegram
##Шаг 3: Клиентский рендеринг
#[✓]Перенести логику отрисовки canvas
#[✓]Адаптировать под вертикальную ориентацию
#[✓]Оптимизировать для мобильных устройств
#[✓]Использовать requestAnimationFrame для поддержки 60 FPS
##Шаг 4: Игровая логика и физика
#[✓]Перенести физику прыжков птицы (gravity, jump)
#[✓]Перенести логику столкновений
#[✓]Синхронизировать многопользовательский режим
##Шаг 5: Интеграция с Telegram
#[✓]Добавить авторизацию через Telegram WebApp
#[✓]Настроить проверку initData для безопасности
#[✓]Отображать аватар и имя пользователя из Telegram
##Шаг 6: Сохранение состояния
#[✓]Сохранять ID комнаты в URL или localStorage
#[✓]Обрабатывать переподключения игроков
#[✓]Сохранять score пользователей в базе данных
##Шаг 7: Оптимизация и тестирование
#[✓]Тестирование на разных устройствах
#[✓]Оптимизация производительности
#Добавление звуков, если необходимо